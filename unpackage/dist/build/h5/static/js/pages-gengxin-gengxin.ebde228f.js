(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-gengxin-gengxin"],{"0f88":function(n,t,i){var e=i("24fb");t=e(!1),t.push([n.i,".btndd[data-v-42265f98]{width:%?550?%;height:%?80?%;line-height:%?80?%;border-radius:%?0?%;border-radius:%?20?%}",""]),n.exports=t},1835:function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={data:function(){return{isGengxin:!1,numJindu:0,gengxinUrl:"",version:"0.0.0",sss:""}},onLoad:function(){var n=this;this.getNowVersion(),uni.$off("scan"),uni.$on("scan",(function(t){console.log("扫码界面监听结果",t),n.initScan(t.data)}))},methods:{getNowVersion:function(){},initScan:function(n){this.gengxinUrl=n.barcode,console.log("扫码内容",n)},getIsGengxin:function(){var n=this;this.$axios.axios("post",this.$paths.versionpda,{}).then((function(t){if(200==t.code){console.log("结果",t);var i=JSON.stringify(t);n.sss=i,console.log('res.data.versionNum!=(this.version+"")',t.data.versionNum,n.version+""),t.data.versionNum!=n.version+""?uni.showModal({title:"提示",content:"确定要更新码",success:function(i){i.confirm?(console.log("用户点击确定"),n.toGengxin(t.data.url),n.isGengxin=!0):i.cancel&&console.log("用户点击取消")}}):n.$tools.showToast("已是最新版本")}else n.$tools.showToast(t.msg)})).catch((function(n){}))},toGengxin:function(n){var t=this,i=uni.downloadFile({url:n,success:function(n){200===n.statusCode?plus.runtime.install(n.tempFilePath,{force:!1},(function(){uni.hideLoading(),uni.showModal({title:"安装成功是否重启？",success:function(n){n.confirm&&plus.runtime.restart()}})}),(function(n){uni.hideLoading(),uni.showModal({title:"更新失败",content:n.message,showCancel:!1})})):console.error("下载安装包失败",err)},complete:function(){uni.hideLoading(),i.offProgressUpdate()}});i.onProgressUpdate((function(n){n.progress>=100&&(t.isGengxin=!1),t.numJindu=n.progress}))}}};t.default=e},"1ed4":function(n,t,i){"use strict";var e=i("ee1a"),s=i.n(e);s.a},"71e4":function(n,t,i){"use strict";var e;i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return e}));var s=function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("v-uni-view",[i("v-uni-view",{staticClass:"colonn rowsa  ",staticStyle:{height:"100vh"}},[i("v-uni-view",{staticClass:"colonn w-750"},[i("v-uni-view",{staticClass:"h-20"}),i("v-uni-view",{staticClass:"w-200",staticStyle:{width:"750rpx","text-align":"center"}},[n._v("当前版本")]),i("v-uni-view",{staticClass:"h-20"}),i("v-uni-view",{staticClass:"w-200",staticStyle:{width:"750rpx","text-align":"center"}},[n._v(n._s(n.version))]),i("v-uni-view",{staticClass:"h-20"}),n.isGengxin?i("v-uni-view",{staticClass:"roww fs-30 rowsa p-left-20 m-bottom-30 m-top-30 p-right-20"},[i("v-uni-view",[n._v("下载进度")]),i("v-uni-view",{staticClass:"w-40"}),i("v-uni-progress",{staticStyle:{width:"650rpx"},attrs:{percent:n.numJindu}}),i("v-uni-view",{staticClass:"w-40"}),i("v-uni-view",[n._v(n._s(n.numJindu)+"%")])],1):n._e(),i("v-uni-button",{staticClass:"btndd",attrs:{size:"default",type:"primary"},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.getIsGengxin.apply(void 0,arguments)}}},[n._v("检查更新")])],1)],1)],1)},o=[]},"856c":function(n,t,i){"use strict";i.r(t);var e=i("1835"),s=i.n(e);for(var o in e)"default"!==o&&function(n){i.d(t,n,(function(){return e[n]}))}(o);t["default"]=s.a},ee1a:function(n,t,i){var e=i("0f88");"string"===typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);var s=i("4f06").default;s("a3ac00fc",e,!0,{sourceMap:!1,shadowMode:!1})},f1e8:function(n,t,i){"use strict";i.r(t);var e=i("71e4"),s=i("856c");for(var o in s)"default"!==o&&function(n){i.d(t,n,(function(){return s[n]}))}(o);i("1ed4");var a,r=i("f0c5"),u=Object(r["a"])(s["default"],e["b"],e["c"],!1,null,"42265f98",null,!1,e["a"],a);t["default"]=u.exports}}]);