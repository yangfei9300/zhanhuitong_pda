(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-tongjiNum-tongjiNum"],{"251d":function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){}));var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",[e("v-uni-view",{staticClass:"colonn"},[1==t.options.type?[e("v-uni-view",{staticStyle:{"text-align":"center",color:"red","font-weight":"bold",padding:"20rpx 0rpx"}},[t._v("总计："+t._s(t.list.length-1)+"条记录")]),e("v-uni-view",{staticClass:"roww rowsb border_bottom",staticStyle:{padding:"20rpx 15rpx"}},[e("v-uni-view",{staticClass:"allline",staticStyle:{"text-align":"center"}},[t._v("兼职姓名")]),e("v-uni-view",{staticClass:"allline",staticStyle:{"text-align":"center"}},[t._v("核销数量")]),e("v-uni-view",{staticClass:"allline",staticStyle:{"text-align":"center"}},[t._v("门ID")]),e("v-uni-view",{staticClass:"allline",staticStyle:{"text-align":"center"}},[t._v("日期")])],1),t._l(t.list,(function(n,i){return e("v-uni-view",{staticClass:"roww rowsb border_bottom",staticStyle:{padding:"10rpx 15rpx","line-height":"50rpx"},style:{"background-color":"总核销人数"==n.loginName?"red":"white",color:"总核销人数"==n.loginName?"white":"#000000"}},[e("v-uni-view",{staticClass:"allline",staticStyle:{"text-align":"center"}},[t._v(t._s(n.loginName))]),e("v-uni-view",{staticClass:"allline",staticStyle:{"text-align":"center"}},[t._v(t._s(n.count))]),e("v-uni-view",{staticClass:"allline",staticStyle:{"text-align":"center"}},[t._v(t._s(n.doorId))]),"总核销人数"!=n.loginName?e("v-uni-view",{staticClass:"allline",staticStyle:{"text-align":"center"}},[t._v(t._s(n.dayTime))]):e("v-uni-view",{staticClass:"allline",staticStyle:{"text-align":"center"}},[t._v(t._s(n.dayTime)+"人")])],1)}))]:t._e(),2==t.options.type?[e("v-uni-view",{staticStyle:{"text-align":"center",color:"red","font-weight":"bold",padding:"20rpx 0rpx"}},[t._v("总核销次数："+t._s(t.list.length))]),e("v-uni-view",{staticClass:"roww rowsb border_bottom",staticStyle:{padding:"20rpx 15rpx"}},[e("v-uni-view",{staticClass:"allline w-100",staticStyle:{"text-align":"center"}},[t._v("兼职姓名")]),e("v-uni-view",{staticClass:"allline w-100",staticStyle:{"text-align":"center"}},[t._v("客户手机号")]),e("v-uni-view",{staticClass:"allline w-550",staticStyle:{"text-align":"center"}},[t._v("扫码时间")])],1),t._l(t.list,(function(n,i){return e("v-uni-view",{staticClass:"roww rowsb border_bottom",staticStyle:{padding:"10rpx 15rpx"}},[e("v-uni-view",{staticClass:"allline w-100",staticStyle:{"text-align":"center"}},[t._v(t._s(n.loginName))]),e("v-uni-view",{staticClass:"allline w-100",staticStyle:{"text-align":"center"}},[t._v(t._s(n.unionid))]),e("v-uni-view",{staticClass:"allline w-550",staticStyle:{"text-align":"center"}},[t._v(t._s(n.createTime))])],1)}))]:t._e()],2),e("v-uni-view",{staticClass:"leftbo yincang1",on:{longpress:function(n){arguments[0]=n=t.$handleEvent(n),t.clearSaanInfo.apply(void 0,arguments)}}},[t._v("清除数据")]),e("v-uni-view",{staticClass:"rightbo",on:{click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.toHome.apply(void 0,arguments)}}},[t._v("返回首页")])],1)},a=[]},"550e":function(t,n,e){"use strict";e.r(n);var i=e("eeae"),a=e.n(i);for(var c in i)["default"].indexOf(c)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(c);n["default"]=a.a},"6a3f":function(t,n,e){e("bf0f"),e("c223"),e("d4b5"),t.exports={dbName:"zht",dbPath:"_downloads/zht.db",isOpen:function(){var t=plus.sqlite.isOpenDatabase({name:this.dbName,path:this.dbPath});return t},openSqlite:function(){var t=this;return new Promise((function(n,e){plus.sqlite.openDatabase({name:t.dbName,path:t.dbPath,success:function(t){n(t)},fail:function(t){e(t)}})}))},closeSqlite:function(){var t=this;return new Promise((function(n,e){plus.sqlite.closeDatabase({name:t.dbName,success:function(t){n(t)},fail:function(t){e(t)}})}))},createTable:function(t,n){var e=this;return new Promise((function(i,a){plus.sqlite.executeSql({name:e.dbName,sql:"CREATE TABLE IF NOT EXISTS ".concat(t,"(").concat(n,")"),success:function(t){i(t)},fail:function(t){a(t)}})}))},dropTable:function(t){var n=this;return new Promise((function(e,i){plus.sqlite.executeSql({name:n.dbName,sql:"DROP TABLE ".concat(t),success:function(t){e(t)},fail:function(t){i(t)}})}))},insertTableData:function(t,n,e){var i=this;if(void 0!==t&&void 0!==n){var a="{}"==JSON.stringify(n);if(a)return new Promise((function(t,n){n("错误添加")}));if(void 0==e)var c="INSERT INTO ".concat(t," VALUES('").concat(n,"')");else c="INSERT INTO ".concat(t," (").concat(e,") VALUES(").concat(n,")");return new Promise((function(t,n){plus.sqlite.executeSql({name:i.dbName,sql:c,success:function(n){t(n)},fail:function(t){n(t)}})}))}return new Promise((function(t,n){n("错误添加")}))},insertOrReplaceData:function(t,n,e){var i=this;if(void 0!==t&&void 0!==n){if(void 0==e)var a="INSERT OR REPLACE INTO ".concat(t," VALUES('").concat(n,"')");else a="INSERT OR REPLACE INTO ".concat(t," (").concat(e,") VALUES(").concat(n,")");return new Promise((function(t,n){plus.sqlite.executeSql({name:i.dbName,sql:a,success:function(n){t(n)},fail:function(t){n(t)}})}))}return new Promise((function(t,n){n("错误添加")}))},selectTableData:function(t,n,e,i,a,c,o,s,l){var u=this;if(void 0!==t){if(void 0!==n&&void 0!==i&&void 0!==c&&void 0!==s)var r="SELECT * FROM ".concat(t," WHERE ").concat(n," = '").concat(e,"' AND ").concat(i," = '").concat(a,"' AND ").concat(c,"='").concat(o,"' AND ").concat(s,"='").concat(l,"' ");else if(void 0!==n&&void 0!==i&&void 0!==c)r="SELECT * FROM ".concat(t," WHERE ").concat(n," = '").concat(e,"' AND ").concat(i," = '").concat(a,"' AND ").concat(c,"='").concat(o,"'");if(void 0!==n&&void 0!==i&&void 0==c)r="SELECT * FROM ".concat(t," WHERE ").concat(n," = '").concat(e,"' AND ").concat(i," = '").concat(a,"'");if(void 0!==n&&void 0==i&&void 0==c)r="SELECT * FROM ".concat(t," WHERE ").concat(n," = '").concat(e,"'");if(void 0==n)r="SELECT * FROM ".concat(t);return console.log("查询sql语句",r),new Promise((function(t,n){plus.sqlite.selectSql({name:u.dbName,sql:r,success:function(n){t(n)},fail:function(t){n(t)}})}))}return new Promise((function(t,n){n("错误查询")}))},selectTableData1:function(t,n){var e=this;if(void 0!==t){var i="SELECT * FROM "+t+" where isUpload='false' and  isLine='false'  LIMIT "+n;return console.log("查询sql语句",i),new Promise((function(t,n){plus.sqlite.selectSql({name:e.dbName,sql:i,success:function(n){t(n)},fail:function(t){n(t)}})}))}return new Promise((function(t,n){n("错误查询")}))},selectgetTotalCont:function(t){var n=this;if(void 0!==t){var e="select count(*) count FROM "+t+" WHERE isUpload='false' and isLine='false'";return console.log("查询sql语句",e),new Promise((function(t,i){plus.sqlite.selectSql({name:n.dbName,sql:e,success:function(n){t(n)},fail:function(t){i(t)}})}))}return new Promise((function(t,n){n("错误查询")}))},deleteTableData:function(t,n,e,i,a){var c=this;if(void 0!==t){if(void 0==n)var o="DELETE FROM ".concat(t);else if(void 0!==i)o="DELETE FROM ".concat(t," WHERE ").concat(n," = '").concat(e,"' AND ").concat(i," = '").concat(a,"'");else o="DELETE FROM ".concat(t," WHERE ").concat(n," = '").concat(e,"'");return new Promise((function(t,n){plus.sqlite.executeSql({name:c.dbName,sql:o,success:function(n){t(n)},fail:function(t){n(t)}})}))}return new Promise((function(t,n){n("错误删除")}))},updateTableData:function(t,n,e,i){var a=this;if(void 0==e)var c="UPDATE ".concat(t," SET ").concat(n);else c="UPDATE ".concat(t," SET ").concat(n," WHERE ").concat(e," = '").concat(i,"'");return new Promise((function(t,n){plus.sqlite.executeSql({name:a.dbName,sql:c,success:function(n){t(n)},fail:function(t){n(t)}})}))},pullSQL:function(t,n,e){var i=this;return new Promise((function(a,c){plus.sqlite.selectSql({name:i.dbName,sql:"SELECT * FROM ".concat(t," ORDER BY '").concat(n,"' DESC LIMIT 15 OFFSET '").concat(e,"'"),success:function(t){a(t)},fail:function(t){c(t)}})}))},selWuxiaoNum:function(){var t=this;return new Promise((function(n,e){plus.sqlite.selectSql({name:t.dbName,sql:'SELECT count(*) count FROM scan_info WHERE isLine="false" AND isUpload="no"',success:function(t){n(t)},fail:function(t){e(t)}})}))},delWuxiaodata:function(){var t=this;return new Promise((function(n,e){plus.sqlite.selectSql({name:t.dbName,sql:"DELETE FROM scan_info WHERE isUpload ='no'",success:function(t){n(t)},fail:function(t){e(t)}})}))}}},"7bb3":function(t,n,e){var i=e("c86c");n=i(!1),n.push([t.i,".leftbo[data-v-f53172b6]{width:%?150?%;height:%?50?%;background-color:#00f;color:#fff;line-height:%?50?%;border-radius:%?15?%;text-align:center;position:fixed;bottom:%?40?%;left:%?40?%}.rightbo[data-v-f53172b6]{width:%?150?%;height:%?50?%;background-color:#00f;color:#fff;line-height:%?50?%;border-radius:%?15?%;text-align:center;position:fixed;bottom:%?40?%;right:%?40?%}",""]),t.exports=n},c01d:function(t,n,e){"use strict";var i=e("d52e"),a=e.n(i);a.a},c399:function(t,n,e){"use strict";e.r(n);var i=e("251d"),a=e("550e");for(var c in a)["default"].indexOf(c)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(c);e("c01d");var o=e("828b"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"f53172b6",null,!1,i["a"],void 0);n["default"]=s.exports},d52e:function(t,n,e){var i=e("7bb3");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=e("967d").default;a("faf86e0e",i,!0,{sourceMap:!1,shadowMode:!1})},eeae:function(t,n,e){"use strict";e("6a54");var i=e("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("e966"),e("aa9c");var a=i(e("6a3f")),c={data:function(){return{list:[],options:{}}},onLoad:function(t){this.options=t,this.openSQL()},methods:{clearSaanInfo:function(){var t=this;uni.showModal({confirmColor:"#ff0000",title:"警告警告！！！",content:"确定要清空扫码详情表吗？（联系管理员处理）",success:function(n){n.confirm?a.default.deleteTableData("scan_info").then((function(n){t.$tools.showToast("扫码详情表数据清空成功")})).catch((function(n){t.$tools.showToast("数据清空失败")})):n.cancel}})},toHome:function(){uni.reLaunch({url:"/pages/login/login"})},openSQL:function(){var t=this,n=a.default.isOpen();console.log("数据库状态",n?"开启":"关闭"),n?1==this.options.type?this.getYeji("statistics_num"):this.getYeji("scan_info"):a.default.openSqlite().then((function(n){console.log("数据库已打开"),1==t.options.type?t.getYeji("statistics_num"):t.getYeji("scan_info")})).catch((function(t){console.log("数据库开启失败")}))},getYeji:function(t){var n=this;a.default.selectTableData(t).then((function(e){if(n.list=e,"statistics_num"==t){for(var i={loginName:"总核销人数",count:"",doorId:"",dayTime:""},a=0,c=0;c<e.length;c++)a+=parseInt(e[c].count);i.dayTime=a,n.list.push(i)}})).catch((function(t){n.$tools.showToast("查询失败")}))}}};n.default=c}}]);